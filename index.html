<html>
    <head>
        <meta charset="UTF-8">
        <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge"> -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Repertorio PRUEBA</title>
        <!-- icono del la pestaña -->
        <link rel="shortcut icon" href="./Recursos/imagenes/icone.ico">
        <!-- link de la libreria para leer las etiquetas de aframe -->
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
          <!-- scripts para enviroments-->
        <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
        <!-- script para gifs -->
        <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
        <script src="https://rawgit.com/mayognaise/aframe-gif-component/master/dist/aframe-gif-component.min.js"></script>
        <!-- para leer animación -->
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
        <!-- script para texturas -->
        <script src="https://cdn.jsdelivr.net/npm/aframe-enviropacks@latest/aframe-enviropacks.js"></script>
        <!-- script para texto en 3d -->
        <script
            src="https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js"></script>
        <!-- script para interacciones -->
        <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
        <!-- LIBRERIAS DE COLISIONES Y FÍSICAS-->
        <script
            src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
        <script src="https://unpkg.com/aframe-physics-extras@0.1.2/dist/aframe-physics-extras.min.js"></script>
        <!-- scripts movimiento de la cámara -->
        <script> src = "https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js" </script>
        <script> src = "https://unpkg.com/super-hands@2.0.2/dist/super-hands.min.js" </script>
        <!-- scripts para partículas-->
        <script src="https://unpkg.com/aframe-animation-component@3.2.1/dist/aframe-animation-component.min.js"></script>
        <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
        <script
            src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
        <script src="https://unpkg.com/aframe-extras.ocean@%5E3.5.x/dist/aframe-extras.ocean.min.js"></script>
        <script src="https://unpkg.com/aframe-gradient-sky@1.2.0/dist/gradientsky.min.js"></script>
        <!-- scipts para animacion de agua -->
        <script src="https://unpkg.com/aframe-animation-component@3.2.1/dist/aframe-animation-component.min.js"></script>
        <script src="https://unpkg.com/aframe-extras.ocean@%5E3.5.x/dist/aframe-extras.ocean.min.js"></script>
        <script src="https://unpkg.com/aframe-animation-component@3.2.1/dist/aframe-animation-component.min.js"></script>
        <!-- scripts para truco de transparencia en modelos 3d-->
        <script>
            AFRAME.registerComponent('model-opacity', {
                schema: { default: 1.0 },
                init: function () {
                    // this.el.addEventListener('model-loaded', this.update.bind(this));
                    this.el.addEventListener("model-loaded", () => {
                        const object3DEl = this.el.object3DMap;
                        ;
   
   
   
   
                        var mesh = this.el.getObject3D('mesh'); // For hand, the result is undefined
                        // var mesh = this.el.object3DMap.mesh; // For hand, the result is undefined
                        console.log(mesh);
                        var data = this.data;
                        if (!mesh) { return; }
                        mesh.traverse(function (node) {
                            if (node.isMesh) {
                                ;
                                node.material.opacity = data;
                                node.material.transparent = data < 1.0;
                                node.material.needsUpdate = true;
                            }
                        });
                    }, 2000)
   
   
                },
                update: function () {
                    var mesh = this.el.getObject3D('mesh');
                    var data = this.data;
                    if (!mesh) { return; }
                    mesh.traverse(function (node) {
                        if (node.isMesh) {
                            ;
                            node.material.opacity = data;
                            node.material.transparent = data < 1.0;
                            node.material.needsUpdate = true;
                        }
                    });
                }
            });
        </script>
   
    </head>
  <body>


    <a-assets>
        <!-- Imagenes -->
        <img id="ambiente" src="./Recursos/imagenes/ambiente.jpg">
        <img id="disco" src="./Recursos/imagenes/disco.jpeg">
        <img id="mono" src="./Recursos/imagenes/mono.jpeg">
        <img id="montana" src="./Recursos/imagenes/montana.jpeg">
        <img id="shigeo" src="./Recursos/imagenes/shigeo.jpg">
        <img id="sueter" src="./Recursos/imagenes/sueter.jpg">
        <img id="1" src="./Recursos/imagenes/imagen1.jpeg">
        <img id="2" src="./Recursos/imagenes/imagen2.jpeg">
        <img id="3" src="./Recursos/imagenes/imagen3.jpeg">


        <!-- Modelos -->
        <a-asset-item id="columna" src="./Recursos/modelos/columna.gltf"></a-asset-item>
        <a-asset-item id="cuerpe" src="./Recursos/modelos/cuerpe.gltf"></a-asset-item>
        <a-asset-item id="cuerpe2" src="./Recursos/modelos/cuerpe_deathglb.gltf"></a-asset-item>
        <a-asset-item id="cuerpe3" src="./Recursos/modelos/cuerpe_suspendide.gltf"></a-asset-item>
        <a-asset-item id="awa" src="./Recursos/modelos/awagltf.gltf"></a-asset-item>


        </a-assets>


        <a-scene stats loading-screen="dotsColor:white; backgroundColor:black" physics="gravity:-75; debug: false" vr-mode-ui="enabled:false">


        <!-- Enviroment  https://github.com/supermedium/aframe-environment-component -->

       <a-entity environment="preset:threetowers; skyType:gradient; horizonColor:#010303; lighting:none; shadow:true; shadowSize:10; fog:0.7; playArea:1.3; stageSize:200; ground:canyon; groundYScale:50; groundTexture:walkernoise; groundColor:#454545; groundColor2:#000000; dressing:none; grid:dots; gridColor:#71fd48S"></a-entity>


        <!-- Piso invisible -->
    <a-plane static-body position="0.445 0.030 -1.879" rotation="-90 0 0" color="#0e23aa" scale="200 200"
    opacity="0"></a-plane>
 






<!-- INICIA LUCES -->

        <!-- Camara (Si cambio la posicion no funcionan las paredes estaticas :< )-->
              <!-- Luces (Si añadimos luces, A-frame quita las default automaticamente) -->      
              <a-entity movement-controls kinematic-body>
                <a-entity id="camera" camera position="0 2.5 0" look-controls light="intensity:0.8; type:spot; penumbra:1; distance:40; angle:45">
        <a-entity cursor="fuse: true; fuseTimeout: 500"
                    position="0 0 -1" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.023"
                    material="color: white; shader: flat"> </a-entity>      
          </a-entity>
                </a-entity>



<!-- Luces (Si añadimos luces, A-frame quita las default automaticamente) -->  


<!-- Luz arriba del dispensador 
         <a-entity angle="19.7" penumbra="1" intensity="15" rotation="-90 0 0" light="type: spot; angle: 19; penumbra: 1" position="9.624 7.622 -13.356"></a-entity>
-->

<!-- Luces provisionales-->
         <a-entity light="type: ambient; color: #BBB"></a-entity>
         <a-entity light="type: directional; color: #FFF; intensity: 0.6" position="-0.5 1 1"></a-entity>
 

<!-- FINALIZA LUCES -->



<!-- PISO 1 -->

    <!-- Icosaedro -->
        <a-icosahedron color="#BBB" position="0 -0.020 0" radius="5" material="color: #BBB; wireframe: true" geometry="" scale="1.8 1.52 1.8" animation="property:rotation; to: 0 360 0; loop:true; dur:15000; easing:easeInOutElastic"></a-icosahedron>

    <!-- VENTANAS -->
        <a-box position="30 4 0" color="#0fd2f9" opacity="0.2" scale="8 30 0.090" rotation="0 90 90" static-body></a-box>
        <a-box position="-30 4 0" color="#0fd2f9" opacity="0.2" scale="8 30 0.090" rotation="0 90 90" static-body></a-box>

    <!-- TECHO TRANSPARENTE -->
        <a-box position="-0.322 11 0.819" color="#f9590f" opacity="0.4" scale="24 42 2" rotation="90 90 0" static-body></a-box>

    <!-- PAREDES -->
        <a-box position="-0,14 4 -15"  material="src: #shigeo" repeat="8 1" scale="60 8 0.200" static-body></a-box>
        <a-box position="-0,14 4 15"  material="src: #shigeo" repeat="8 1" scale="60 8 0.200" static-body></a-box>

    <!-- AGUA -->
        <a-entity id="ocean" ocean="density:20; speed:1" position="0.598 0.600 0.136" scale="6.730 6.030" material="color:#4863ea; opacity: 0.8; metalness: 0; roughness: 0.5" rotation=" -90 0 0"  animation__position="property:position; to: 0.598 2 0.136; loop:true; dur:50000; easing: linear; dir:alternate"></a-entity>

    <!-- ESCALERAS -->
        <a-box static-body position="-15 0.5 -6" scale="3.280 0.200 1,5" rotation="0 90 0" color="white" opacity="1"></a-box>
        <a-box static-body position="-16 1 -6" scale="3.280 0.200 1,5" rotation="0 90 0" color="white" opacity="1"></a-box>
        <a-box static-body position="-17 1.5 -6" scale="3.280 0.200 1,5" rotation="0 90 0" color="white" opacity="1"></a-box>
        <a-box static-body position="-18 2 -6" scale="3.280 0.200 1,5" rotation="0 90 0" color="white" opacity="1"></a-box>
        <a-box static-body position="-19 2.5 -6,2" scale="3.280 0.200 1,5" rotation="0 90 0" color="white" opacity="1"></a-box>
        <a-box static-body position="-20 3 -6,2" scale="3.280 0.200 1,5" rotation="0 90 0" color="white" opacity="1"></a-box>
        <a-box static-body position="-21 3.5 -6,2" scale="3.280 0.200 1,5" rotation="0 90 0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 4 -6,2" scale="3.280 0.200 3,200" rotation="0 90 0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 4.5 -3.8" scale="3.280 0.200 1,5" rotation="0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 5 -2.8" scale="3.280 0.200 1,5" rotation="0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 5.5 -1.8" scale="3.280 0.200 1,5" rotation="0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 6 -0.8" scale="3.280 0.200 1,5" rotation="0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 6.5 0.2" scale="3.280 0.200 1,5" rotation="0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 7 1.2" scale="3.280 0.200 1,5" rotation="0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 7.5 2.2" scale="3.280 0.200 1,5" rotation="0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 8 3.2" scale="3.280 0.200 1,5" rotation="0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 8.5 4.2" scale="3.280 0.200 1,5" rotation="0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 9 5.2" scale="3.280 0.200 1,5" rotation="0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 9.5 6.2" scale="3.280 0.200 1,5" rotation="0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 10 7.2" scale="3.280 0.200 1,5" rotation="0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 10.5 8.2" scale="3.280 0.200 1,5" rotation="0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 11 9.2" scale="3.280 0.200 1,5" rotation="0" color="white" opacity="1"></a-box>
        <a-box static-body position="-23 11.5 11.2" scale="3.280 0.200 3,200" rotation="0" color="white" opacity="1"></a-box>

    <!-- COLUMNAS -->
        <a-entity static-body position="16 0 -8" gltf-model="#columna" scale="3 3 3"></a-entity>
        <a-entity static-body position="8 0 -8" gltf-model="#columna" scale="3 3 3"></a-entity>
        <a-entity static-body position="0 0 -8" gltf-model="#columna" scale="3 3 3"></a-entity>
        <a-entity static-body position="-8 0 -8" gltf-model="#columna" scale="3 3 3"></a-entity>

        <a-entity static-body position="16 0 8" gltf-model="#columna" scale="3 3 3"></a-entity>
        <a-entity static-body position="8 0 8" gltf-model="#columna" scale="3 3 3"></a-entity>
        <a-entity static-body position="0 0 8" gltf-model="#columna" scale="3 3 3"></a-entity>
        <a-entity static-body position="-8 0 8" gltf-model="#columna" scale="3 3 3"></a-entity>

    <!-- Dodecaedro con gif-->
        <a-sphere position="-4.369 1.3381 0.957" radius="1.25" geometry="primitive: dodecahedron" scale=".3 .3 .3"  material="shader: gif; src: url(https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExbThpYzZ5Nmc2NnJqaDE2MGM3YmQ1NWcyd3c3czdvM29yaHo2MDNrdCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/l0HlTN69zen0ciJXi/giphy.gif)" animation__escala="property:scale; to: .7 .7 .7; loop:true; dur:9000; easing: linear; dir: alternate" animation__rotacion="property:rotation; to: 0 360 0; loop:true; dur:900; easing: linear" animation__position="property:position; to: 2.167 2 0.957; loop:true; dur:900; easing: linear; dir:alternate"></a-sphere>

    <!-- Torus interaccion color y camara -->
        <a-entity geometry="primitive:torus" rotation="0 45 0" position="5 4 6" scale=".6 .6 .6"
        material="color:black" animation__mouseenter="property: components.material.material.color; type: color; to: white; startEvents: mouseenter; dur: 500" animation__mouseleave="property: components.material.material.color; type: color; to: black; startEvents: mouseleave; dur: 3000"
        animation="property: rotation; to: 0 360 0; loop:true; dur:8000; easing:linear"></a-entity>

    <!-- LINK EXTERNO -->
        <a-entity position="5 3 8" rotation="0 180 0" geometry="src: #disco" scale="1 1 1" link="href: mirror-space.html"></a-entity>


<!-- PISO 2 -->

    <!-- Dodecaedro con wireframe -->
        <a-dodecahedron color="#" radius="5" material="color: #000; opacity: 0.3; shader: flat; vertexColors: face; width: 200; wireframe: true; wireframeLinewidth: 8.91" geometry="primitive: sphere" scale="10.69 4.96 10.17"
        animation="property:rotation; to: 0 -360 0; loop:true; dur:15000"></a-dodecahedron> 

    <!-- PAREDES -->
        <a-box position="20.50 15 0.819" color="#f9590f" opacity="0.4" scale="24 6 0,200" rotation="180 90 0" static-body></a-box>
        <a-box position="-0.31 15 -11" color="#f9590f" opacity="0.4" scale="42 6 0,200" rotation="0 180 0" static-body></a-box>
        <a-box position="-0.31 15 12.80" color="#f9590f" opacity="0.4" scale="42 6 0,200" rotation="0 180 0" static-body></a-box>
        <a-box position="-21 15 -1.150" color="#f9590f" opacity="0.4" scale="20 6 0,200" rotation="180 90 0" static-body></a-box>
        <a-box position="-16 15 2.8" color="#f9590f" opacity="0.4" scale="20 6 0,200" rotation="180 90 0" static-body></a-box>
        <a-box position="-11 15 -1.047" color="#f9590f" opacity="0.4" scale="20 6 0,200" rotation="180 90 0" static-body></a-box>
        <a-box position="2.49 15 8.946" color="#f9590f" opacity="0.4" scale="27 6 0,200" rotation="180 0 0" static-body></a-box>
        <a-box position="15.92 15 0.920" color="#f9590f" opacity="0.4" scale="16 6 0,200" rotation="180 90 0" static-body></a-box>
        <a-box position="4.413 15 -7.060" color="#f9590f" opacity="0.4" scale="23 6 0,200" rotation="180 0 0" static-body></a-box>
        <a-box position="0.003 15 -2.901" color="#f9590f" opacity="0.4" scale="22 6 0,200" rotation="180 0 0" static-body></a-box>
        <a-box position="11 15 1.102" color="#f9590f" opacity="0.4" scale="8 6 0,200" rotation="180 90 0" static-body></a-box>
        <a-box position="7 15 4.931" color="#f9590f" opacity="0.4" scale="8 6 0,200" rotation="180 90 0" static-body></a-box>
        <a-box position="3 15 1.102" color="#f9590f" opacity="0.4" scale="8 6 0,200" rotation="180 90 0" static-body></a-box>
        <a-box position="-0.494 15 5.087" color="#f9590f" opacity="0.4" scale="7 6 0,200" rotation="180 0 0" static-body></a-box>

    <!-- CUERPOS -->
        <a-entity gltf-model="#cuerpe" animation-mixer position="0 12 1.095" rotation="0 270 0" scale="1" animation__position="loop:true; dur:9000; easing: easeInSine"></a-entity>
        <a-entity gltf-model="#cuerpe2" animation-mixer position="-24.20 4.189 -7.321" rotation="0 90 0" scale="0.25 0.25 0.25" animation="property: position; to:-24.20 -0.02 -10.07; loop:true; dur:5290; easing: easeInOutExpo"></a-entity>
        <a-entity gltf-model="#cuerpe3" animation-mixer position="11.66 3.022 -0.42" scale="0.25 0.25 0.25" animation="property: rotation; to: 0 360 0; loop:true; dur:2000; easing:linear"></a-entity>
        <a-entity gltf-model="#cuerpe3" animation-mixer position="-11.66 3.022 -0.42" scale="0.25 0.25 0.25" animation="property: rotation; to: 0 -360 0; loop:true; dur:2000; easing:linear"></a-entity>

    <!-- Link para otra pestaña -->
        <a-entity position="1.999 15.29 -1.134" rotation="0 130 0" scale="1.040 2.260 2.020" geometry="primitive: plane; width: 2; height: 2"
        material="src: #montana; transparent: true; side:double" animation="property: rotation; to: 0 -360 0; loop:true; dur:8000; easing:linear"
        link="href:materiales.html"></a-entity>

    <!-- Pelota  -->
        <a-sphere position="0.962 24 3.225" radius="3" color="#FF926B" scale="0.20 0.20 0.20" animation="property: position; to:0.962 12.75 3.225; dur: 700; easing: easeInQuad; loop: true; dir:alternate"></a-sphere>


    <!-- Modelos con audio -->
        <a-entity static-body gltf-model="#awa" position="-10.70 0 2.989" rotation="0 0 0" scale="1" sound="src: url(./Recursos/sonidos/soniditos.wav); autoplay: true; loop:true; volume:0.8" animation="property: rotation; to: 0 -360 0; loop:true; dur:8000; easing:linear"></a-entity>
          
    <!-- Llamando Imagenes -->
        <a-image src="#1" scale="4 4 0" position="26 4 -7" rotation="0 90 0"></a-image>
        <a-image src="#2" scale="4 4 0" position="26 4 0" rotation="0 -90 0"></a-image>
        <a-image src="#3" scale="4 4 0" position="26 4 7" rotation="0 90 0"></a-image>


    <!-- Llamando Gifs  -->
        <a-entity position="-29.950 4 0" geometry="primitive: plane; width: 6; height: 4" material="shader: gif; src: url(./Recursos/gifs/gif1.webp); repeat: 2 2; transparent: true; alphaTest: 0.5; side: double" rotation="0 90 0"></a-entity>



    <!-- Texto con materiales y animacion de opacidad:
     ground-grass-rock, ground-sandstone, ground-wood-floor, ground-snow, ground-forest, bark, gold, metal, plastic, fabric, concrete, rock, wood, planks, snow. Or could also be a "raw" material: Fabric026, Metal009, Metal035, Plastic, Snow003, Snow004, Wood027, WoodFloor041, aerial_grass_rock, bark_brown_02, brown_planks_04, forrest_ground_03, mossy_rock, rock_05, sandstone_cracks-->
        <a-entity text-geometry="value: BIENVENIDES; size: 12; letterSpacing:2; bevelEnabled: true; bevelSize: 1.150; curveSegments: 15"
        enviropack-material="material: plastic; displacementMap: false" rotation="0 90 0"
        position="-45.80 15 2" scale="0.190 0.190 0.05"  animation="property: material.opacity; to: 0; dur: 2000; dir: alternate; loop: true"></a-entity>




            
<!-- Modelos con audio
        <a-entity static-body gltf-model="#plant" position="-17.495 0 -14.947" rotation="0 0 0" scale=".15 .15 .15" sound="src: url(./Biblioteca/Sonidos/frogs and crickets.wav); autoplay: true; loop:true; volume:0.9"></a-entity>

 -->


        <!-- Gif con audio 
            <a-entity position="3.890 2.019 0.868" scale="6.630 4.290 2" geometry="primitive: plane" material="shader: gif; src: url(./Biblioteca/Gifs/gif2.gif); repeat: 2 2; transparent: true; alphaTest: 0.5; side: double" rotation="0 90 0" sound="src: url(./Biblioteca/Sonidos/music.mp3); autoplay: true; loop:true; volume:.7" ></a-entity>
-->

        <!-- Llamando videos -->
            <!-- <a-video src="#vid" scale="6.650 4.3 0" rotation="0 90 0" position="17.481 2.058 0.277"></a-video> -->



    </a-scene>

  </body>
</html>


<!-- voxels.com -->

<!-- Consulta de descarga de recursos:
- https://sketchfab.com/feed
- https://market.pmnd.rs/
- https://nasa3d.arc.nasa.gov/
- https://www.cgtrader.com/
- https://www.craftsmanspace.com/
- https://archive3d.net/
- https://clara.io/library
- https://www.turbosquid.com/
- mixamo.com
- https://giphy.com/
- https://polyhaven.com/
- https://freesound.org/
- https://pixabay.com/music/search/experimental/
-->